fragment PropValueFragment on prop_value {
    id
    name
    type
    value
    value_prop_id
    lambda_id
}

fragment PageElementConfigFragment on page_element {
    id
    name
    page_id
    props {
        prop {
            id
            values_aggregate {
                aggregate {
                    count
                }
            }
            values {
                ...PropValueFragment
            }
        }
    }
}

query PageElementConfig($pageElementId: uuid!) {
    page_element_by_pk(id: $pageElementId) {
        ...PageElementConfigFragment
    }
}